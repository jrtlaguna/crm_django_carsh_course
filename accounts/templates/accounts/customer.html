{% extends 'accounts/main.html' %}


{% block content %}

	<br>

	<div class="row">
		
		<div class="col-md">
			<div class="card card-body customer-card">
				<h5>Customer: {{customer.name}}</h5>
				<hr>
				<a href="" class="btn btn-outline-info btn-sm btn-block">Update Customer</a>
				<a href="{% url 'create_order' customer.id %}" class="btn btn-outline-info btn-sm btn-block">Place order</a>
			</div>
		</div>

		<div class="col-md">
			<div class="card card-body info-card">
				<h5>Contact Information</h5>
				<hr>
				<p>Email {{customer.email}} </p>
				<p>Phone: {{customer.phone}} </p>
			</div>
		</div>

		<div class="col-md">
			<div class="card card-body total-orders">
				<h5>Total Orders</h5>
				<hr>
				<h1 style="text-align: center; padding: 10px">{{orders.count}}</h1>
			</div>
		</div>

	</div>

<br>
	<div class="row">
		<div class="col">
			<div class="card card-body">
				<form method="get">
					{{myFilter.form}}
					<button class="btn btn-primary" type="submit">Search</button>
				</form>
			</div>
		</div>
	</div>
	<br>
	
	<div class="row">
		<div class="col-md">
			<div class="card card-body">
				<table class="table table-sm">
					<tr>
						<th>Product</th>
						<th>Category</th>
						<th>Date Ordered</th>
						<th>Status</th>
						<th>Update</th>
						<th>Remove</th>
					</tr>
					
					{% for o in orders %}
						<tr>
							<td>{{o.product}}</td>
							<td>{{o.product.category}}</td>
							<td>{{o.date_created}}</td>
							<td>{{o.status}}</td>
							<td><a href="" class="btn btn-warning btn-sm">Update</a></td>
							<td><a href="" class="btn btn-danger btn-sm">Remove</a></td>
						</tr>
					{% endfor %}
						
				</table>
			</div>
		</div>
	</div>

{% endblock %}